import{bB as Ae,az as Oe,bC as Re,l as q,m as ae,$ as be,q as z,a0 as se,u as G,t as x,f as A,T as M,av as fe,y as me,G as pe,C as ge,D as B,E as ze,_ as he,ad as W,bD as Ie,bE as Ve,v as F,o as ye,ao as Fe,F as g,H as K,aG as Me,au as De,aj as je,at as U,af as Ke,as as Ue,L as _e,an as re,n as ne,X as He,a3 as qe,bF as ie,am as Ce,aT as Ge,ag as xe,ah as Ne,a7 as We,V as Xe,a4 as Ye,bG as Ze,aA as Je,bH as Qe,a5 as I,A as et,a2 as tt,r as H,e as at,g as V,j as ce,p as Te,c as st,bI as nt}from"./index-2ec7d635.js";import{t as le,f as lt,U as we}from"./ContentBox-1ee88888.js";import{f as ot}from"./vnode-a7bf1f14.js";const Bt=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),L=e=>Ae(e),rt=(e,t,s)=>ot(e.subTree).filter(a=>{var o;return Re(a)&&((o=a.type)==null?void 0:o.name)===t&&!!a.component}).map(a=>a.component.uid).map(a=>s[a]).filter(a=>!!a),it=(e,t)=>{const s={},n=Oe([]);return{children:n,addChild:o=>{s[o.uid]=o,n.value=rt(e,t,s)},removeChild:o=>{delete s[o],n.value=n.value.filter(y=>y.uid!==o)}}},X=Symbol("tabsRootContextKey"),ct=q({tabs:{type:ae(Array),default:()=>be([])}}),$e="ElTabBar",ut=z({name:$e}),dt=z({...ut,props:ct,setup(e,{expose:t}){const s=e,n=W(),i=se(X);i||le($e,"<el-tabs><el-tab-bar /></el-tabs>");const a=G("tabs"),o=x(),y=x(),d=()=>{let m=0,v=0;const l=["top","bottom"].includes(i.props.tabPosition)?"width":"height",r=l==="width"?"x":"y",h=r==="x"?"left":"top";return s.tabs.every(E=>{var N,c;const _=(c=(N=n.parent)==null?void 0:N.refs)==null?void 0:c[`tab-${E.uid}`];if(!_)return!1;if(!E.active)return!0;m=_[`offset${L(h)}`],v=_[`client${L(l)}`];const w=window.getComputedStyle(_);return l==="width"&&(s.tabs.length>1&&(v-=Number.parseFloat(w.paddingLeft)+Number.parseFloat(w.paddingRight)),m+=Number.parseFloat(w.paddingLeft)),!1}),{[l]:`${v}px`,transform:`translate${L(r)}(${m}px)`}},f=()=>y.value=d();return A(()=>s.tabs,async()=>{await M(),f()},{immediate:!0}),fe(o,()=>f()),t({ref:o,update:f}),(m,v)=>(me(),pe("div",{ref_key:"barRef",ref:o,class:ge([B(a).e("active-bar"),B(a).is(B(i).props.tabPosition)]),style:ze(y.value)},null,6))}});var vt=he(dt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const bt=q({panes:{type:ae(Array),default:()=>be([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),ft={tabClick:(e,t,s)=>s instanceof Event,tabRemove:(e,t)=>t instanceof Event},ue="ElTabNav",mt=z({name:ue,props:bt,emits:ft,setup(e,{expose:t,emit:s}){const n=W(),i=se(X);i||le(ue,"<el-tabs><tab-nav /></el-tabs>");const a=G("tabs"),o=Ie(),y=Ve(),d=x(),f=x(),m=x(),v=x(),l=x(!1),r=x(0),h=x(!1),E=x(!0),N=F(()=>["top","bottom"].includes(i.props.tabPosition)?"width":"height"),c=F(()=>({transform:`translate${N.value==="width"?"X":"Y"}(-${r.value}px)`})),_=()=>{if(!d.value)return;const b=d.value[`offset${L(N.value)}`],p=r.value;if(!p)return;const u=p>b?p-b:0;r.value=u},w=()=>{if(!d.value||!f.value)return;const b=f.value[`offset${L(N.value)}`],p=d.value[`offset${L(N.value)}`],u=r.value;if(b-u<=p)return;const $=b-u>p*2?u+p:b-p;r.value=$},O=async()=>{const b=f.value;if(!l.value||!m.value||!d.value||!b)return;await M();const p=m.value.querySelector(".is-active");if(!p)return;const u=d.value,$=["top","bottom"].includes(i.props.tabPosition),P=p.getBoundingClientRect(),T=u.getBoundingClientRect(),k=$?b.offsetWidth-T.width:b.offsetHeight-T.height,S=r.value;let C=S;$?(P.left<T.left&&(C=S-(T.left-P.left)),P.right>T.right&&(C=S+P.right-T.right)):(P.top<T.top&&(C=S-(T.top-P.top)),P.bottom>T.bottom&&(C=S+(P.bottom-T.bottom))),C=Math.max(C,0),r.value=Math.min(C,k)},D=()=>{var b;if(!f.value||!d.value)return;e.stretch&&((b=v.value)==null||b.update());const p=f.value[`offset${L(N.value)}`],u=d.value[`offset${L(N.value)}`],$=r.value;u<p?(l.value=l.value||{},l.value.prev=$,l.value.next=$+u<p,p-$<u&&(r.value=p-u)):(l.value=!1,$>0&&(r.value=0))},Ee=b=>{const p=b.code,{up:u,down:$,left:P,right:T}=U;if(![u,$,P,T].includes(p))return;const k=Array.from(b.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),S=k.indexOf(b.target);let C;p===P||p===u?S===0?C=k.length-1:C=S-1:S<k.length-1?C=S+1:C=0,k[C].focus({preventScroll:!0}),k[C].click(),oe()},oe=()=>{E.value&&(h.value=!0)},Y=()=>h.value=!1;return A(o,b=>{b==="hidden"?E.value=!1:b==="visible"&&setTimeout(()=>E.value=!0,50)}),A(y,b=>{b?setTimeout(()=>E.value=!0,50):E.value=!1}),fe(m,D),ye(()=>setTimeout(()=>O(),0)),Fe(()=>D()),t({scrollToActiveTab:O,removeFocus:Y}),A(()=>e.panes,()=>n.update(),{flush:"post",deep:!0}),()=>{const b=l.value?[g("span",{class:[a.e("nav-prev"),a.is("disabled",!l.value.prev)],onClick:_},[g(K,null,{default:()=>[g(Me,null,null)]})]),g("span",{class:[a.e("nav-next"),a.is("disabled",!l.value.next)],onClick:w},[g(K,null,{default:()=>[g(De,null,null)]})])]:null,p=e.panes.map((u,$)=>{var P,T,k,S;const C=u.uid,Z=u.props.disabled,J=(T=(P=u.props.name)!=null?P:u.index)!=null?T:`${$}`,Q=!Z&&(u.isClosable||e.editable);u.index=`${$}`;const ke=Q?g(K,{class:"is-icon-close",onClick:R=>s("tabRemove",u,R)},{default:()=>[g(je,null,null)]}):null,Be=((S=(k=u.slots).label)==null?void 0:S.call(k))||u.props.label,Le=!Z&&u.active?0:-1;return g("div",{ref:`tab-${C}`,class:[a.e("item"),a.is(i.props.tabPosition),a.is("active",u.active),a.is("disabled",Z),a.is("closable",Q),a.is("focus",h.value)],id:`tab-${J}`,key:`tab-${C}`,"aria-controls":`pane-${J}`,role:"tab","aria-selected":u.active,tabindex:Le,onFocus:()=>oe(),onBlur:()=>Y(),onClick:R=>{Y(),s("tabClick",u,J,R)},onKeydown:R=>{Q&&(R.code===U.delete||R.code===U.backspace)&&s("tabRemove",u,R)}},[Be,ke])});return g("div",{ref:m,class:[a.e("nav-wrap"),a.is("scrollable",!!l.value),a.is(i.props.tabPosition)]},[b,g("div",{class:a.e("nav-scroll"),ref:d},[g("div",{class:[a.e("nav"),a.is(i.props.tabPosition),a.is("stretch",e.stretch&&["top","bottom"].includes(i.props.tabPosition))],ref:f,style:c.value,role:"tablist",onKeydown:Ee},[e.type?null:g(vt,{ref:v,tabs:[...e.panes]},null),p])])])}}}),pt=q({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:ae(Function),default:()=>!0},stretch:Boolean}),ee=e=>ne(e)||He(e),gt={[we]:e=>ee(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>ee(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>ee(e),tabAdd:()=>!0};var ht=z({name:"ElTabs",props:pt,emits:gt,setup(e,{emit:t,slots:s,expose:n}){var i,a;const o=G("tabs"),{children:y,addChild:d,removeChild:f}=it(W(),"ElTabPane"),m=x(),v=x((a=(i=e.modelValue)!=null?i:e.activeName)!=null?a:"0"),l=c=>{v.value=c,t(we,c),t("tabChange",c)},r=async c=>{var _,w,O;if(!(v.value===c||re(c)))try{await((_=e.beforeLeave)==null?void 0:_.call(e,c,v.value))!==!1&&(l(c),(O=(w=m.value)==null?void 0:w.removeFocus)==null||O.call(w))}catch{}},h=(c,_,w)=>{c.props.disabled||(r(_),t("tabClick",c,w))},E=(c,_)=>{c.props.disabled||re(c.props.name)||(_.stopPropagation(),t("edit",c.props.name,"remove"),t("tabRemove",c.props.name))},N=()=>{t("edit",void 0,"add"),t("tabAdd")};return lt({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},F(()=>!!e.activeName)),A(()=>e.activeName,c=>r(c)),A(()=>e.modelValue,c=>r(c)),A(v,async()=>{var c;await M(),(c=m.value)==null||c.scrollToActiveTab()}),Ke(X,{props:e,currentName:v,registerPane:d,unregisterPane:f}),n({currentName:v}),()=>{const c=e.editable||e.addable?g("span",{class:o.e("new-tab"),tabindex:"0",onClick:N,onKeydown:O=>{O.code===U.enter&&N()}},[g(K,{class:o.is("icon-plus")},{default:()=>[g(Ue,null,null)]})]):null,_=g("div",{class:[o.e("header"),o.is(e.tabPosition)]},[c,g(mt,{ref:m,currentName:v.value,editable:e.editable,type:e.type,panes:y.value,stretch:e.stretch,onTabClick:h,onTabRemove:E},null)]),w=g("div",{class:o.e("content")},[_e(s,"default")]);return g("div",{class:[o.b(),o.m(e.tabPosition),{[o.m("card")]:e.type==="card",[o.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[_,w]:[w,_]])}}});const yt=q({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),_t=["id","aria-hidden","aria-labelledby"],Pe="ElTabPane",Ct=z({name:Pe}),xt=z({...Ct,props:yt,setup(e){const t=e,s=W(),n=qe(),i=se(X);i||le(Pe,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const a=G("tab-pane"),o=x(),y=F(()=>t.closable||i.props.closable),d=ie(()=>{var r;return i.currentName.value===((r=t.name)!=null?r:o.value)}),f=x(d.value),m=F(()=>{var r;return(r=t.name)!=null?r:o.value}),v=ie(()=>!t.lazy||f.value||d.value);A(d,r=>{r&&(f.value=!0)});const l=Ce({uid:s.uid,slots:n,props:t,paneName:m,active:d,index:o,isClosable:y});return ye(()=>{i.registerPane(l)}),Ge(()=>{i.unregisterPane(l.uid)}),(r,h)=>B(v)?xe((me(),pe("div",{key:0,id:`pane-${B(m)}`,class:ge(B(a).b()),role:"tabpanel","aria-hidden":!B(d),"aria-labelledby":`tab-${B(m)}`},[_e(r.$slots,"default")],10,_t)),[[Ne,B(d)]]):We("v-if",!0)}});var Se=he(xt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const Lt=Xe(ht,{TabPane:Se}),At=Ye(Se);function Nt(e){let t;const s=x(!1),n=Ce({...e,originalPosition:"",originalOverflow:"",visible:!1});function i(l){n.text=l}function a(){const l=n.parent,r=v.ns;if(!l.vLoadingAddClassList){let h=l.getAttribute("loading-number");h=Number.parseInt(h)-1,h?l.setAttribute("loading-number",h.toString()):(H(l,r.bm("parent","relative")),l.removeAttribute("loading-number")),H(l,r.bm("parent","hidden"))}o(),m.unmount()}function o(){var l,r;(r=(l=v.$el)==null?void 0:l.parentNode)==null||r.removeChild(v.$el)}function y(){var l;e.beforeClose&&!e.beforeClose()||(s.value=!0,clearTimeout(t),t=window.setTimeout(d,400),n.visible=!1,(l=e.closed)==null||l.call(e))}function d(){if(!s.value)return;const l=n.parent;s.value=!1,l.vLoadingAddClassList=void 0,a()}const f=z({name:"ElLoading",setup(l,{expose:r}){const{ns:h,zIndex:E}=Qe("loading");return r({ns:h,zIndex:E}),()=>{const N=n.spinner||n.svg,c=I("svg",{class:"circular",viewBox:n.svgViewBox?n.svgViewBox:"0 0 50 50",...N?{innerHTML:N}:{}},[I("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),_=n.text?I("p",{class:h.b("text")},[n.text]):void 0;return I(tt,{name:h.b("fade"),onAfterLeave:d},{default:et(()=>[xe(g("div",{style:{backgroundColor:n.background||""},class:[h.b("mask"),n.customClass,n.fullscreen?"is-fullscreen":""]},[I("div",{class:h.b("spinner")},[c,_])]),[[Ne,n.visible]])])})}}}),m=Ze(f),v=m.mount(document.createElement("div"));return{...Je(n),setText:i,removeElLoadingChild:o,close:y,handleAfterLeave:d,vm:v,get $el(){return v.$el}}}let j;const Tt=function(e={}){if(!at)return;const t=wt(e);if(t.fullscreen&&j)return j;const s=Nt({...t,closed:()=>{var i;(i=t.closed)==null||i.call(t),t.fullscreen&&(j=void 0)}});$t(t,t.parent,s),de(t,t.parent,s),t.parent.vLoadingAddClassList=()=>de(t,t.parent,s);let n=t.parent.getAttribute("loading-number");return n?n=`${Number.parseInt(n)+1}`:n="1",t.parent.setAttribute("loading-number",n),t.parent.appendChild(s.$el),M(()=>s.visible.value=t.visible),t.fullscreen&&(j=s),s},wt=e=>{var t,s,n,i;let a;return ne(e.target)?a=(t=document.querySelector(e.target))!=null?t:document.body:a=e.target||document.body,{parent:a===document.body||e.body?document.body:a,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:a===document.body&&((s=e.fullscreen)!=null?s:!0),lock:(n=e.lock)!=null?n:!1,customClass:e.customClass||"",visible:(i=e.visible)!=null?i:!0,target:a}},$t=async(e,t,s)=>{const{nextZIndex:n}=s.vm.zIndex||s.vm._.exposed.zIndex,i={};if(e.fullscreen)s.originalPosition.value=V(document.body,"position"),s.originalOverflow.value=V(document.body,"overflow"),i.zIndex=n();else if(e.parent===document.body){s.originalPosition.value=V(document.body,"position"),await M();for(const a of["top","left"]){const o=a==="top"?"scrollTop":"scrollLeft";i[a]=`${e.target.getBoundingClientRect()[a]+document.body[o]+document.documentElement[o]-Number.parseInt(V(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])i[a]=`${e.target.getBoundingClientRect()[a]}px`}else s.originalPosition.value=V(t,"position");for(const[a,o]of Object.entries(i))s.$el.style[a]=o},de=(e,t,s)=>{const n=s.vm.ns||s.vm._.exposed.ns;["absolute","fixed","sticky"].includes(s.originalPosition.value)?H(t,n.bm("parent","relative")):ce(t,n.bm("parent","relative")),e.fullscreen&&e.lock?ce(t,n.bm("parent","hidden")):H(t,n.bm("parent","hidden"))},te=Symbol("ElLoading"),ve=(e,t)=>{var s,n,i,a;const o=t.instance,y=l=>Te(t.value)?t.value[l]:void 0,d=l=>{const r=ne(l)&&(o==null?void 0:o[l])||l;return r&&x(r)},f=l=>d(y(l)||e.getAttribute(`element-loading-${nt(l)}`)),m=(s=y("fullscreen"))!=null?s:t.modifiers.fullscreen,v={text:f("text"),svg:f("svg"),svgViewBox:f("svgViewBox"),spinner:f("spinner"),background:f("background"),customClass:f("customClass"),fullscreen:m,target:(n=y("target"))!=null?n:m?void 0:e,body:(i=y("body"))!=null?i:t.modifiers.body,lock:(a=y("lock"))!=null?a:t.modifiers.lock};e[te]={options:v,instance:Tt(v)}},Pt=(e,t)=>{for(const s of Object.keys(t))st(t[s])&&(t[s].value=e[s])},Ot={mounted(e,t){t.value&&ve(e,t)},updated(e,t){const s=e[te];t.oldValue!==t.value&&(t.value&&!t.oldValue?ve(e,t):t.value&&t.oldValue?Te(t.value)&&Pt(t.value,s.options):s==null||s.instance.close())},unmounted(e){var t;(t=e[te])==null||t.instance.close()}};export{Lt as E,At as a,Bt as e,it as u,Ot as v};
